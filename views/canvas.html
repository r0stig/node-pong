<!doctype html>
<html>
<head>


</head>

<body>
	<input type="file" name="image" size="65" id="uploadimage" />
	<canvas id="canvas" style="width: 500px; height: 500px;"></canvas>
	<canvas id="canvas2" style="width: 500px; height: 500px;"></canvas>


<script type="text/javascript">
	var can2 = document.getElementById('canvas2');
	var ctx2 = can2.getContext('2d');
function draw() {
	var can = document.getElementById('canvas');
	var ctx = can.getContext('2d');
	var img = new Image();
	var f = document.getElementById('uploadimage').files[0]
	var url = window.URL || window.webkitURL
	var src = url.createObjectURL(f);

	img.src = src;
	img.onload = function() {
		ctx.drawImage(img, 0, 0, 200, 200);
		url.revokeObjectURL(src);

		//var imageData = ctx.createImageData(500, 500);
		var imageData = ctx.getImageData(0, 0, 500, 500);
		ctx2.putImageData(imageData, 0, 0);
		console.log(imageData);
	}
}

document.getElementById('uploadimage').addEventListener('change', draw, false);

</script>
</body>
</html>